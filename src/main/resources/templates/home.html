<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Open Food Facts</title>
</head>
<body>
<h1>ğŸ Open Food Facts - ì¹´í…Œê³ ë¦¬ ê²€ìƒ‰</h1>

<!-- ê²€ìƒ‰ í¼: GET ë°©ì‹ìœ¼ë¡œ /?category=... í˜•íƒœë¡œ ìš”ì²­ -->
<form method="get" action="/">
    <label>
        Category (English):
        <input type="text" name="category" th:value="${category}" placeholder="e.g. Orange Juice"/>
    </label>
    <button type="submit">Search</button>
</form>

<hr/>

<h2 th:text="'Results for: ' + ${category}"></h2>

<!-- productsê°€ ë¹„ì–´ìˆìœ¼ë©´ ì•ˆë‚´ ë¬¸êµ¬ -->
<div th:if="${#lists.isEmpty(products)}">
    <p>ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤. ë‹¤ë¥¸ ì¹´í…Œê³ ë¦¬ë¥¼ ì…ë ¥í•´ ë³´ì„¸ìš”.</p>
</div>

<!-- productsê°€ ìˆìœ¼ë©´ ë°˜ë³µ ì¶œë ¥ -->
<ul th:if="${!#lists.isEmpty(products)}">
    <li th:each="p : ${products}">
        <a th:href="@{/products/{code}(code=${p.code}, lang='ko')}">
            <strong th:text="${p.productName}">Product Name</strong>
        </a>

        <span th:text="' | Brand: ' + ${p.brands}">Brand</span>
        <span th:text="' | NutriScore: ' + ${p.nutriScoreGrade}">NutriScore</span>
        <span th:text="' | Code: ' + ${p.code}">Code</span>
    </li>
</ul>

</body>
</html>
